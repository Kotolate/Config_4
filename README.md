# Config_4
Гаврина Екатерина ИКБО-20-23 (5 Вариант)
# Задание №4
Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.
Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлулогу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.
27
Форматом для файла-лога и файла-результата является json.
Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.
###Загрузка константы
####A B C
####Биты 0—7 Биты 8—38 Биты 39—69
####90 Адрес Константа
####Размер команды: 14 байт. Операнд: поле C. Результат: значение в памяти по
адресу, которым является поле B.
Тест (A=90, B=947, C=207):
0x5A, 0xB3, 0x03, 0x00, 0x80, 0x67, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00
###Чтение значения из памяти
####A B C D
####Биты 0—7 Биты 8—38 Биты 39—69 Биты 70—75
####1 Адрес Адрес Смещение
####Размер команды: 14 байт. Операнд: значение в памяти по адресу, которым
является сумма адреса (значение в памяти по адресу, которым является поле C) и
смещения (поле D). Результат: значение в памяти по адресу, которым является
поле B.
Тест (A=1, B=822, C=918, D=42):
0x01, 0x36, 0x03, 0x00, 0x00, 0xCB, 0x01, 0x00, 0x80, 0x0A, 0x00, 0x00, 0x00,
0x00
###Запись значения в память
####A B C
####Биты 0—7 Биты 8—38 Биты 39—69
####62 Адрес Адрес
####28
####Размер команды: 14 байт. Операнд: значение в памяти по адресу, которым
является поле C. Результат: значение в памяти по адресу, которым является
значение в памяти по адресу, которым является поле B.
Тест (A=62, B=135, C=464):
0x3E, 0x87, 0x00, 0x00, 0x00, 0xE8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00
####Унарная операция: sqrt()
####A B C D
####Биты 0—7 Биты 8—38 Биты 39—44 Биты 45—75
####137 Адрес Смещение Адрес
####Размер команды: 14 байт. Операнд: значение в памяти по адресу, которым
является значение в памяти по адресу, которым является поле D. Результат:
значение в памяти по адресу, которым является сумма адреса (значение в памяти
по адресу, которым является поле B) и смещения (поле C).
Тест (A=137, B=920, C=37, D=301):
0x89, 0x98, 0x03, 0x00, 0x80, 0xB2, 0x25, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00
#####Тестовая программа
Выполнить поэлементно операцию sqrt() над вектором длины 6. Результат
записать в новый вектор
